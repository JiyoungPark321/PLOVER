#### 무한 스크롤

- 모바일 페이지에서 나열하는 목록들이 많아지게되면 그만큼 스크롤이 생기게되며, 개발자는 페이징 처리를 고려한다.
- 더보기 버튼을 눌러 목록을 추가하는 방식이 아닌 스크롤을 내려 사용자가 모든목록을 다보면 추가적인 목록을 보여주는 방식이다.
- 현재 스크롤이 바닥에 와있다면 목록을 추가하는 핸들러를 scroll이벤트에 추가함으로써 구현할수있다.

#### 첫번째 무한스크롤 방법

- window.innerHeight(윈도우 내부창 높이),window.scrollY(스크롤로 위로 숨겨진 영역높이),document.body.offsetHeight(문서의 높이)를 이용하여 구현

```javascript
<style>
    .box {
        width: 150px;
        height: 150px;
        line-height: 150px;
        text-align: center;
        border: #aaa solid 1px;
    }
</style>
<div id="root" style="display:flex;flex-direction: column;">
</div>
<script>
    let count = 0;
    for (let i = count; i < count + 10; i++) {
        let elem = document.createElement('div');
        elem.setAttribute('class', 'box');
        elem.innerHTML = i;
        root.append(elem);
    }
    count += 10;

    window.onscroll = function (e) {
        if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {
            for (let i = count; i < count + 10; i++) {
                let elem = document.createElement('div');
                elem.setAttribute('class', 'box');
                elem.innerHTML = i;
                root.append(elem);
            }
            count += 10;
        }
    }
</script>
```

#### 두번째 무한스크롤 방법 (IntersectionObserver 사용)

- 가장 밑에 엘리먼트를 하나 추가하고 관찰대상으로 지정하여 교차영역에 들어온다면 목록을 추가한다.

```javascript
<style>
     .box {
         width: 150px;
         height: 150px;
         line-height: 150px;
         text-align: center;
         border: #aaa solid 1px;
     }
</style>
<div id="root" style="display:flex;flex-direction: column;">
</div>
<p id="footer"></p>
<script>
    let count = 0;

    const io = new IntersectionObserver((entries, observer) => {
        Array.from(entries).forEach((entry) => {
            if (!entry.isIntersecting) return;

            for (let i = count; i < count + 10; i++) {
                let elem = document.createElement('div');
                elem.setAttribute('class', 'box');
                elem.innerHTML = i;
                root.append(elem);
            }
            count += 10;
        });
    });

    io.observe(footer);
</script>
```